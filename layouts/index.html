{{ define "main" }}
<!-- Modern Theme-Based Hero Section with Enhanced Interactivity -->
{{ with .Params.banner }}
<section class="hero-section min-h-screen flex items-center relative overflow-hidden py-16">
  <!-- Enhanced Background with Parallax Effect -->
  <div class="absolute inset-0 z-0 hero-background">
    <!-- Clean Background -->
    <div class="absolute inset-0 bg-body dark:bg-black"></div>

    <!-- Animated Gradient Overlay -->
    <div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary/5 dark:from-darkmode-primary/5 dark:to-darkmode-primary/5 animate-gradient"></div>

    <!-- Subtle SVG Patterns -->
    <div class="absolute inset-0 z-10 opacity-[0.03] dark:opacity-[0.05]" style="background-image: url('data:image/svg+xml,%3Csvg width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22%23000000%22 fill-opacity=%220.1%22 fill-rule=%22evenodd%22%3E%3Ccircle cx=%223%22 cy=%223%22 r=%221%22/%3E%3Ccircle cx=%2213%22 cy=%2213%22 r=%221%22/%3E%3C/g%3E%3C/svg%3E'); background-size: 20px 20px;"></div>

    <!-- Floating Abstract Shapes with Animation -->
    <div class="absolute top-20 left-10 w-32 h-32 border-2 border-primary/20 dark:border-darkmode-primary/20 rounded-full opacity-30 dark:opacity-20 z-10 animate-float"></div>
    <div class="absolute bottom-40 right-20 w-48 h-48 border-2 border-primary/20 dark:border-darkmode-primary/20 rounded-full opacity-30 dark:opacity-20 z-10 animate-float-delayed"></div>
    <div class="absolute top-1/3 right-1/4 w-24 h-24 border-2 border-primary/20 dark:border-darkmode-primary/20 rounded-full opacity-30 dark:opacity-20 z-10 animate-float-slow"></div>

    <!-- Animated SVG Blobs -->
    <div class="absolute top-1/4 left-1/4 w-16 h-16 opacity-10 dark:opacity-40 z-30 animate-blob" style="pointer-events: none;">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path fill="currentColor" class="text-primary dark:text-darkmode-primary" d="M45.3,-51.2C56.9,-42.9,63.3,-26.5,65.3,-9.8C67.2,6.9,64.7,24,55.8,36.1C46.9,48.3,31.5,55.5,15.4,60.3C-0.7,65.1,-17.5,67.4,-32.4,62.3C-47.3,57.2,-60.3,44.7,-67.1,28.9C-73.9,13.1,-74.5,-6,-68.2,-21.8C-61.9,-37.5,-48.7,-49.9,-34.3,-57C-19.9,-64.1,-4.3,-65.9,9.8,-62.8C23.9,-59.7,33.7,-59.5,45.3,-51.2Z" transform="translate(100 100)" />
      </svg>
    </div>
    <div class="absolute bottom-1/4 right-1/3 w-20 h-20 opacity-10 dark:opacity-40 z-30 rotate-45 animate-blob-reverse" style="pointer-events: none;">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path fill="currentColor" class="text-primary dark:text-darkmode-primary" d="M47.7,-57.2C59.5,-45.9,65.8,-28.4,68.2,-10.8C70.6,6.8,69.2,24.5,60.8,38.3C52.3,52.2,36.9,62.2,20.1,67.2C3.3,72.2,-14.9,72.1,-30.8,65.5C-46.7,58.9,-60.3,45.7,-67.6,29.5C-74.9,13.2,-75.9,-6.1,-69.7,-22.4C-63.5,-38.7,-50.1,-51.9,-35.4,-62.1C-20.7,-72.2,-4.7,-79.2,9.7,-76.8C24.1,-74.4,35.9,-68.5,47.7,-57.2Z" transform="translate(100 100)" />
      </svg>
    </div>
    <div class="absolute top-2/3 left-1/3 w-24 h-24 opacity-10 dark:opacity-40 z-30 -rotate-12 animate-blob-slow" style="pointer-events: none;">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path fill="currentColor" class="text-primary dark:text-darkmode-primary" d="M39.9,-46.1C52.6,-34.5,64.5,-23.1,68.2,-8.7C71.9,5.7,67.4,23.2,57.4,36.1C47.4,49.1,31.8,57.5,15.4,62.1C-1,66.7,-18.2,67.5,-33.9,61.2C-49.6,54.9,-63.8,41.5,-70.1,24.9C-76.4,8.3,-74.8,-11.5,-66.4,-27.8C-58,-44.1,-42.8,-56.9,-27.1,-67.1C-11.4,-77.3,4.8,-84.9,17.3,-79.7C29.8,-74.5,27.2,-57.6,39.9,-46.1Z" transform="translate(100 100)" />
      </svg>
    </div>
  </div>

  <div class="container relative z-10">
    <div class="flex flex-col lg:flex-row items-center justify-between gap-8 md:gap-12 lg:gap-16">
      <!-- Content Section with Enhanced Animations -->
      <div class="lg:w-1/2 order-2 lg:order-1 text-center lg:text-left" data-aos="fade-up" data-aos-once="true">
        <div class="max-w-2xl mx-auto lg:mx-0">
          <!-- Enhanced Badge with Pulse Animation -->
          <div class="inline-flex items-center px-5 py-2.5 rounded-full bg-gradient-to-r from-primary/10 to-primary/5 dark:from-darkmode-primary/20 dark:to-darkmode-primary/10 text-primary dark:text-darkmode-primary text-sm font-medium mb-6 shadow-lg border border-primary/20 dark:border-darkmode-primary/20 backdrop-blur-sm">
            <span class="flex h-2 w-2 relative mr-2">
              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary dark:bg-darkmode-primary opacity-75"></span>
              <span class="relative inline-flex rounded-full h-2 w-2 bg-primary dark:bg-darkmode-primary"></span>
            </span>
            Welcome to my digital space
          </div>

          <!-- Enhanced Title with Gradient Text -->
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight bg-clip-text text-transparent bg-gradient-to-r from-dark to-dark/80 dark:from-white dark:to-white/80 animate-fade-in">
            {{ .title | markdownify }}
          </h1>

          <!-- Enhanced Subtitle with Typing Effect -->
          <h4 class="text-xl md:text-2xl font-normal mb-6 text-text dark:text-darkmode-text animate-slide-up">
            {{ .subtitle | markdownify }}
          </h4>

          <!-- Enhanced Content -->
          <p class="text-lg text-text dark:text-darkmode-text mb-8 leading-relaxed animate-slide-up-delayed">
            {{ .content | markdownify }}
          </p>

          <!-- Enhanced Bullet Points with Hover Effects -->
          {{ if .bulletpoints }}
          <ul class="space-y-4 mb-10">
            {{ range $index, $point := .bulletpoints }}
            <li class="group flex items-start bg-gradient-to-r from-body to-theme-light dark:from-darkmode-body dark:to-darkmode-theme-light rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-xl hover:scale-[1.02] border border-transparent hover:border-primary/30 dark:hover:border-darkmode-primary/30" data-aos="fade-up" data-aos-delay="{{ mul $index 100 }}" data-aos-once="true">
              <span class="flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 dark:from-darkmode-primary/30 dark:to-darkmode-primary/20 text-primary dark:text-darkmode-primary mr-4 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12">
                <i class="fas fa-check text-sm"></i>
              </span>
              <span class="text-text dark:text-darkmode-text flex-1">{{ . | markdownify }}</span>
            </li>
            {{ end }}
          </ul>
          {{ end }}

          <!-- Enhanced Buttons with Glow Effect -->
          <div class="flex flex-wrap gap-4 justify-center lg:justify-start mt-8" data-aos="fade-up" data-aos-delay="200" data-aos-once="true">
            {{ with .buttonCS }} {{ if .enable }}
            <a href="{{ .link | absURL }}" class="btn btn-primary group relative overflow-hidden">
              <span class="relative z-10">{{ .label }}</span>
              <i class="fa fa-arrow-right ml-2 transition-transform duration-300 group-hover:translate-x-1 relative z-10"></i>
              <span class="absolute inset-0 bg-gradient-to-r from-primary to-primary/80 dark:from-darkmode-primary dark:to-darkmode-primary/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
            </a>
            {{ end }} {{ end }}

            {{ with .buttonDV }} {{ if .enable }}
            <a href="{{ .link | absURL }}" class="btn btn-outline-primary group relative overflow-hidden">
              <span class="relative z-10">{{ .label }}</span>
              <i class="fa fa-arrow-right ml-2 transition-transform duration-300 group-hover:translate-x-1 relative z-10"></i>
              <span class="absolute inset-0 bg-primary/10 dark:bg-darkmode-primary/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
            </a>
            {{ end }} {{ end }}
          </div>
        </div>
      </div>

      <!-- Simplified Image Gallery Section -->
      <div class="lg:w-1/2 order-1 lg:order-2" data-aos="fade-left" data-aos-once="true">
        <div class="relative mx-auto max-w-md lg:max-w-lg">
          <!-- Simple Image Display -->
          <div id="hero-image-container" class="bg-white dark:bg-black rounded-xl shadow-lg p-4 overflow-hidden">
            {{ $files := readDir "static/images/admin" }}
            {{ $firstImage := index (where $files "IsDir" false) 0 }}
            {{ if $firstImage }}
            <div class="relative">
              <img
                id="hero-main-image"
                src="{{ print "/images/admin/" $firstImage.Name | absURL }}"
                alt="Profile image"
                class="w-full h-auto rounded-lg transition-opacity duration-500"
                style="max-height: 500px; object-fit: contain;"
                loading="eager"
                decoding="async"
                fetchpriority="high"
              />

              <!-- Image Navigation -->
              <div class="mt-4 flex justify-center gap-2" id="hero-image-dots">
                {{ range $index, $file := $files }}
                {{ if and (not .IsDir) (findRE "\\.(jpe?g|png|gif|webp)$" .Name)}}
                <button
                  class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-primary dark:hover:bg-primary transition-all duration-300 {{ if eq $index 0 }}bg-primary dark:bg-primary scale-125{{ end }}"
                  data-image="{{ print "/images/admin/" .Name | absURL }}"
                  data-index="{{ $index }}"
                  onclick="changeHeroImage(this, {{ $index }})"
                ></button>
                {{ end }}
                {{ end }}
              </div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Theme-Based Scroll Indicator - Hidden on Mobile -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 hidden md:flex flex-col items-center animate-bounce-slow z-20">
    <span class="text-sm text-dark dark:text-darkmode-light mb-2">Scroll Down</span>
    <i class="fas fa-chevron-down text-primary dark:text-darkmode-primary"></i>
  </div>
</section>
{{ end }}
<!-- /Hero Section -->

<!-- Improved Feature Sections -->
{{ range $i, $e:= .Params.features }}
<section class="feature-section py-16 md:py-20 lg:py-24 relative {{ if (modBool $i 2) }}bg-body dark:bg-darkmode-body{{ else }}bg-white dark:bg-black{{ end }}" id="feature-{{ $i }}">
  <!-- Enhanced Background Elements with Subtle Animation -->
  <div class="absolute inset-0 z-0 overflow-hidden">
    <!-- Animated gradient overlay -->
    <div class="absolute inset-0 bg-gradient-to-br from-transparent via-primary/[0.02] to-transparent dark:via-darkmode-primary/[0.02] opacity-50"></div>

    <!-- Animated Abstract Shapes -->
    {{ if (modBool $i 2) }}
    <div class="absolute top-20 right-10 w-32 h-32 border-2 border-primary/20 dark:border-darkmode-primary/20 rounded-full opacity-30 dark:opacity-20 z-10 animate-pulse"></div>
    <!-- Additional SVG for even sections -->
    <div class="absolute bottom-1/4 left-1/5 w-20 h-20 opacity-20 dark:opacity-30 z-30 rotate-12 transition-transform duration-1000 hover:rotate-45 hover:scale-110" style="pointer-events: none;">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path fill="currentColor" class="text-primary/30 dark:text-darkmode-primary/30" d="M48.2,-46.1C58.6,-39.2,60.9,-19.6,60.7,-0.2C60.5,19.2,57.8,38.4,47.4,45.9C37,53.4,18.5,49.1,1.7,47.4C-15.2,45.7,-30.3,46.6,-40.8,39.1C-51.2,31.7,-56.9,15.8,-57.7,-0.8C-58.5,-17.5,-54.3,-35,-43.7,-41.9C-33.1,-48.8,-16.6,-45.2,1.3,-46.5C19.1,-47.8,38.3,-53,48.2,-46.1Z" transform="translate(100 100)" />
      </svg>
    </div>
    {{ else }}
    <div class="absolute bottom-20 left-10 w-48 h-48 border-2 border-primary/20 dark:border-darkmode-primary/20 rounded-full opacity-30 dark:opacity-20 z-10 animate-pulse"></div>
    <!-- Additional SVG for odd sections -->
    <div class="absolute top-1/4 right-1/5 w-24 h-24 opacity-20 dark:opacity-30 z-30 -rotate-12 transition-transform duration-1000 hover:-rotate-45 hover:scale-110" style="pointer-events: none;">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path fill="currentColor" class="text-primary/30 dark:text-darkmode-primary/30" d="M54.6,-46.3C68.8,-35.3,77.5,-12.9,74.3,7.2C71.1,27.3,56,45.1,37.5,55.3C19,65.5,-2.9,68.1,-22.2,61.5C-41.5,54.9,-58.2,39.1,-65.2,19.5C-72.2,-0.1,-69.5,-23.5,-57.9,-34.9C-46.3,-46.3,-25.7,-45.7,-3.9,-42.5C17.9,-39.3,40.4,-57.3,54.6,-46.3Z" transform="translate(100 100)" />
      </svg>
    </div>
    {{ end }}
  </div>

  <div class="container relative z-10">
    <!-- Enhanced Section Header -->
    <div class="text-center mb-12 md:mb-16" data-aos="fade-up" data-aos-once="true">
      <div class="inline-flex items-center px-5 py-2.5 rounded-full bg-gradient-to-r from-primary/10 to-primary/5 dark:from-darkmode-primary/20 dark:to-darkmode-primary/10 text-primary dark:text-darkmode-primary text-sm font-medium mb-6 shadow-md hover:shadow-lg transition-all duration-300 border border-primary/20 dark:border-darkmode-primary/20">
        {{ if eq $i 0 }}
          <i class="fas fa-shield-alt mr-2 animate-pulse"></i> Cybersecurity
        {{ else if eq $i 1 }}
          <i class="fas fa-server mr-2 animate-pulse"></i> DevOps
        {{ else if eq $i 2 }}
          <i class="fas fa-project-diagram mr-2 animate-pulse"></i> Projects
        {{ else }}
          <i class="fas fa-star mr-2 animate-pulse"></i> Featured
        {{ end }}
      </div>
      <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold mb-6 text-dark dark:text-darkmode-dark hover:text-primary dark:hover:text-darkmode-primary transition-colors duration-300">{{ .title | markdownify }}</h2>
      <div class="h-1 w-16 md:w-20 bg-gradient-to-r from-primary to-primary/50 dark:from-darkmode-primary dark:to-darkmode-primary/50 rounded-full mx-auto transition-all duration-300 hover:w-24 md:hover:w-28"></div>
    </div>

    <!-- Feature Content -->
    <div class="flex flex-col {{ if not (modBool $i 2) }}lg:flex-row{{ else }}lg:flex-row-reverse{{ end }} items-center gap-8 md:gap-12 lg:gap-16">
      <!-- Feature Image -->
      <div class="w-full lg:w-1/2 px-4" data-aos="{{ if not (modBool $i 2) }}fade-right{{ else }}fade-left{{ end }}" data-aos-delay="100" data-aos-once="true">
        <div class="relative mx-auto max-w-lg group">
          <!-- Decorative background element -->
          <div class="absolute inset-0 bg-gradient-to-br from-primary/5 to-primary/10 dark:from-darkmode-primary/5 dark:to-darkmode-primary/10 rounded-2xl transform rotate-3 transition-transform duration-500 group-hover:rotate-6 group-hover:scale-105"></div>

          <!-- Modern Image Container -->
          <div class="relative z-10 overflow-hidden rounded-2xl transform transition-all duration-500 group-hover:scale-[1.02] shadow-lg group-hover:shadow-2xl">
            <div class="overflow-hidden flex items-center justify-center py-4 bg-white dark:bg-darkmode-body">
              {{ partial "image" (dict "Src" .image "Alt" "feature image" "Class" "w-auto max-w-full h-auto max-h-[400px] object-contain transition-transform duration-500 group-hover:scale-105" "Style" "box-shadow: none !important; filter: none !important; border: none !important; outline: none !important;") }}
            </div>
          </div>
        </div>
      </div>

      <!-- Feature Text Content -->
      <div class="w-full lg:w-1/2 px-4" data-aos="{{ if not (modBool $i 2) }}fade-left{{ else }}fade-right{{ end }}" data-aos-delay="200" data-aos-once="true">
        <div class="max-w-lg mx-auto lg:mx-0">
          <!-- Feature Description -->
          <div class="mb-8">
            <p class="text-base md:text-lg text-text dark:text-darkmode-text leading-relaxed">
              {{ .content | markdownify }}
            </p>
          </div>

          <!-- Modern Interactive Bullet Points -->
          <div class="space-y-4 mb-8">
            {{ range $index, $point := .bulletpoints }}
            <div class="group bg-white dark:bg-darkmode-body rounded-xl p-5 border border-border dark:border-darkmode-border shadow-sm transition-all duration-300 hover:shadow-lg hover:border-primary dark:hover:border-darkmode-primary hover:-translate-y-1" data-aos="fade-up" data-aos-delay="{{ mul $index 50 }}" data-aos-once="true">
              <div class="flex items-start">
                <div class="flex-shrink-0 w-10 h-10 rounded-full bg-primary/10 dark:bg-darkmode-primary/20 flex items-center justify-center text-primary dark:text-darkmode-primary mr-4 transition-all duration-300 group-hover:bg-primary dark:group-hover:bg-darkmode-primary group-hover:text-white group-hover:scale-110">
                  <i class="fas fa-check text-sm"></i>
                </div>
                <div class="flex-1 text-text dark:text-darkmode-text pt-1">{{ . | markdownify }}</div>
              </div>
            </div>
            {{ end }}
          </div>

          <!-- Fixed Button with Guaranteed Visible Text -->
          {{ with .button }} {{ if .enable }}
          <div class="mt-6 md:mt-8" data-aos="fade-up" data-aos-delay="300" data-aos-once="true">
            <a href="{{ .link | absURL }}" class="btn btn-primary group">
              <span>{{ .label }}</span>
              <i class="fa fa-arrow-right ml-2 transition-transform duration-300 group-hover:translate-x-1"></i>
            </a>
          </div>
          {{ end }} {{ end }}
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}

<!-- Modern Subtle Animations -->
<script>
  // Variables for slider
  let currentSlide = 0;
  let isAnimating = false;
  let autoSlideInterval;

  // Function to move to a specific slide with enhanced animation
  function moveToSlide(index) {
    if (isAnimating || index === currentSlide) return;

    const track = document.getElementById('slider-track');
    const slides = document.querySelectorAll('.slide-item');
    if (!track || !slides.length) return;

    isAnimating = true;

    // Update navigation dots with smooth animation
    document.querySelectorAll('#image-slider + div button').forEach((btn, i) => {
      if (i === index) {
        btn.classList.add('bg-primary', 'dark:bg-primary', 'scale-125');
        btn.classList.remove('bg-gray-300', 'dark:bg-gray-700');
      } else {
        btn.classList.remove('bg-primary', 'dark:bg-primary', 'scale-125');
        btn.classList.add('bg-gray-300', 'dark:bg-gray-700');
      }
    });

    // Remove active class from all slides
    slides.forEach(slide => {
      slide.classList.remove('active');
    });

    // Add entering class to the target slide image
    const targetSlide = slides[index];
    const targetImage = targetSlide.querySelector('img');

    if (targetImage) {
      // Remove any existing animation classes
      targetImage.classList.remove('entering');

      // Force a reflow to restart animation
      void targetImage.offsetWidth;

      // Add animation class
      targetImage.classList.add('entering');
    }

    // Add active class to the target slide for shine effect
    setTimeout(() => {
      targetSlide.classList.add('active');
    }, 100);

    // Slide to the new position
    track.style.transform = `translateX(-${index * 100}%)`;

    // Update current slide
    currentSlide = index;

    // Clear animation flag after transition completes
    setTimeout(() => {
      isAnimating = false;
    }, 800); // Match the transition duration
  }

  // Function to change hero image with auto-slide support
  function changeHeroImage(button, index) {
    // Get the image URL from the button's data attribute
    const imageUrl = button.getAttribute('data-image');
    const imageIndex = typeof index !== 'undefined' ? index : parseInt(button.getAttribute('data-index') || '0');

    // Use the new moveToSlide function if available
    if (typeof moveToSlide === 'function' && document.getElementById('slider-track')) {
      moveToSlide(imageIndex);
      return;
    }

    // Simple image change with fade effect
    const heroImage = document.getElementById('hero-main-image');
    if (heroImage) {
      // Add fade-out effect
      heroImage.style.opacity = '0';

      // Change image after fade out
      setTimeout(() => {
        heroImage.src = imageUrl;

        // Add fade-in effect when image is loaded
        heroImage.onload = function() {
          heroImage.style.opacity = '1';
        };
      }, 250);
    }

    // Update active button
    const dots = document.querySelectorAll('#hero-image-dots button');
    dots.forEach((btn, i) => {
      if (i === imageIndex) {
        btn.classList.add('bg-primary', 'dark:bg-primary', 'scale-125');
        btn.classList.remove('bg-gray-300', 'dark:bg-gray-700');
      } else {
        btn.classList.remove('bg-primary', 'dark:bg-primary', 'scale-125');
        btn.classList.add('bg-gray-300', 'dark:bg-gray-700');
      }
    });

    // Update current slide index
    currentSlide = imageIndex;
  }

  document.addEventListener('DOMContentLoaded', function() {
    // Check if AOS is available
    if (typeof AOS !== 'undefined') {
      // Initialize with elegant settings
      AOS.init({
        offset: 100,
        delay: 50,
        duration: 1000,
        easing: 'ease-out',
        once: true, // Elements animate only once
        mirror: false,
        anchorPlacement: 'top-bottom',
        disable: false
      });

      // Refresh AOS when window is resized
      window.addEventListener('resize', function() {
        AOS.refresh();
      }, { passive: true });

      // Refresh AOS when page is fully loaded (including images)
      window.addEventListener('load', function() {
        AOS.refresh();
      }, { passive: true });

      // Refresh AOS when fonts are loaded
      document.fonts.ready.then(function() {
        AOS.refresh();
      });
    } else {
      // Fallback if AOS is not available
      document.querySelectorAll('[data-aos]').forEach(function(item) {
        item.style.opacity = 1;
        item.style.transform = 'translateY(0)';
      });
    }

    // Add smooth scrolling to all links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();

        const targetId = this.getAttribute('href');
        if (targetId === '#') return;

        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          // Smooth scroll to target with offset for fixed header
          const headerOffset = 80;
          const elementPosition = targetElement.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });

          // Update URL hash without jumping
          history.pushState(null, null, targetId);
        }
      });
    });

    // Optimize scroll performance
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      if (!scrollTimeout) {
        scrollTimeout = setTimeout(function() {
          scrollTimeout = null;
        }, 200);
      }
    }, { passive: true });

    // Initialize image slider
    const slider = document.getElementById('image-slider');
    const track = document.getElementById('slider-track');
    const slides = document.querySelectorAll('.slide-item');

    if (slider && track && slides.length) {
      // Add entering class to the first slide
      const firstSlide = slides[0];
      const firstImage = firstSlide.querySelector('img');

      if (firstImage) {
        firstImage.classList.add('entering');
      }

      // Add active class to the first slide for shine effect
      setTimeout(() => {
        firstSlide.classList.add('active');
      }, 100);

      // Function to start auto sliding
      function startAutoSlide() {
        // Clear any existing interval
        if (autoSlideInterval) {
          clearInterval(autoSlideInterval);
        }

        // Set new interval
        autoSlideInterval = setInterval(() => {
          if (!isAnimating) {
            const nextSlide = (currentSlide + 1) % slides.length;
            moveToSlide(nextSlide);
          }
        }, 5000); // Change slide every 5 seconds
      }

      // Pause sliding on hover
      slider.addEventListener('mouseenter', () => {
        if (autoSlideInterval) {
          clearInterval(autoSlideInterval);
        }
      });

      // Resume sliding when mouse leaves
      slider.addEventListener('mouseleave', () => {
        startAutoSlide();
      });

      // Start automatic sliding
      startAutoSlide();
    }

    // Initialize auto-slide for simple hero image gallery
    const heroImageContainer = document.getElementById('hero-image-container');
    const heroImageDots = document.querySelectorAll('#hero-image-dots button');

    if (heroImageContainer && heroImageDots.length > 1) {
      let heroAutoSlideInterval;

      // Function to go to next image
      function nextHeroImage() {
        const nextIndex = (currentSlide + 1) % heroImageDots.length;
        const nextButton = heroImageDots[nextIndex];
        if (nextButton) {
          changeHeroImage(nextButton, nextIndex);
        }
      }

      // Start auto-slide
      function startHeroAutoSlide() {
        if (heroAutoSlideInterval) {
          clearInterval(heroAutoSlideInterval);
        }
        heroAutoSlideInterval = setInterval(nextHeroImage, 4000); // Change every 4 seconds
      }

      // Pause on hover
      heroImageContainer.addEventListener('mouseenter', () => {
        if (heroAutoSlideInterval) {
          clearInterval(heroAutoSlideInterval);
        }
      });

      // Resume on mouse leave
      heroImageContainer.addEventListener('mouseleave', () => {
        startHeroAutoSlide();
      });

      // Start the auto-slide
      startHeroAutoSlide();
    }

    // Legacy code for backward compatibility
    const heroImage = document.querySelector('.lg\\:w-1\\/2.order-1.lg\\:order-2 img');
    if (heroImage) {
      heroImage.style.opacity = '1';
      heroImage.style.transition = 'opacity 0.3s ease';
    }


  });
</script>
<!-- /Features -->

<!-- Skills Section -->
{{ with site.GetPage "sections/skills" }} {{ if .Params.enable }}
<section class="section py-16 relative">
    <!-- Subtle background for skills section -->
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent"></div>
      <div class="absolute inset-0" style="background-image: linear-gradient(rgba(var(--color-primary-rgb), 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(var(--color-primary-rgb), 0.03) 1px, transparent 1px); background-size: 50px 50px;"></div>
    </div>
  <div class="container relative z-10">
    <!-- Simple Section Header -->
    <div class="row">
      <div class="md:col-10 lg:col-8 xl:col-6 mx-auto mb-12 text-center">
        <h2 class="mb-4 text-dark dark:text-darkmode-dark">{{ .Title | markdownify }}</h2>
        <p class="text-lg text-text dark:text-darkmode-text">{{ .Params.description | markdownify }}</p>
      </div>
    </div>

    <!-- Skills Categories with Clean Styling -->
    {{ range $categoryIndex, $category := .Params.skill_categories }}
    <div class="mb-16">
      <!-- Simple Category Header -->
      <h3 class="text-xl font-bold mb-8 text-center text-dark dark:text-darkmode-dark">{{ .name }}</h3>

      <!-- Skills Slider with Clean Cards -->
      <div class="col-12 position-relative skills-slider-container" style="overflow: hidden !important; max-height: none !important;">
        <div class="swiper skills-slider" style="overflow: visible !important; max-height: none !important;">
          <div class="swiper-wrapper" style="overflow: visible !important;">
            {{ range .skills }}
            <div class="swiper-slide p-2">
              <div class="skill-card bg-white dark:bg-darkmode-body rounded-lg p-6 h-full border border-border dark:border-darkmode-border">
                <!-- Card Header -->
                <div class="flex items-center mb-4">
                  {{ if .icon }}
                  <div class="w-10 h-10 mr-4 flex items-center justify-center text-primary dark:text-darkmode-primary">
                    <i class="{{ .icon }} text-2xl"></i>
                  </div>
                  {{ else if .avatar }}
                  <div class="mr-4">
                    {{ partial "image" (dict "Src" .avatar "Size" "40x40" "Class" "rounded" "Alt" .name) }}
                  </div>
                  {{ end }}
                  <h4 class="h5 font-primary font-semibold text-dark dark:text-darkmode-text">{{ .name }}</h4>
                </div>

                <!-- Card Content -->
                <p class="text-sm mb-4 text-text dark:text-darkmode-text">{{ .description | markdownify }}</p>

                <!-- Related Topics with Clean Styling -->
                {{ if .subtopics }}
                <div class="mt-4">
                  <h5 class="font-medium mb-2 text-sm text-primary dark:text-darkmode-primary">Related Topics:</h5>
                  <ul class="flex flex-wrap gap-2">
                    {{ range .subtopics }}
                    <li class="bg-primary/10 dark:bg-darkmode-primary/10 text-primary dark:text-darkmode-primary px-2 py-1 rounded text-xs">{{ . }}</li>
                    {{ end }}
                  </ul>
                </div>
                {{ end }}
              </div>
            </div>
            {{ end }}
          </div>

          <!-- Simple Navigation Elements -->
          <div class="skills-slider-pagination mt-6 flex items-center justify-center text-center"></div>
          <div class="swiper-button-prev !-left-1 md:!-left-2 lg:!-left-4"></div>
          <div class="swiper-button-next !-right-1 md:!-right-2 lg:!-right-4"></div>
        </div>
      </div>
    </div>
    {{ end }}
  </div>
</section>
{{ end }} {{ end }}
<!-- /Skills Section -->

{{ end }}
